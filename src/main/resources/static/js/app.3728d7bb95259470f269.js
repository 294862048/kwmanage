webpackJsonp([1],{"+FF2":function(e,t){},"3OJH":function(e,t){},"4csR":function(e,t){},"7m1f":function(e,t){},AxJx:function(e,t){},JMwj:function(e,t){},KYu9:function(e,t){},"Lu+S":function(e,t){},M3Uy:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};a.d(i,"GetCurrentBrowser",function(){return ct}),a.d(i,"GetOs",function(){return ht});var n=a("//Fk"),s=a.n(n),o=a("7+uW"),r=a("NYxO"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var u=a("VU/8")({name:"App"},l,!1,function(e){a("AxJx")},null,null).exports,c=a("5inH");function h(e){return/^[a-zA-Z]\w{7,18}$/.test(e)}var d=a("atmG"),g={name:"Login",data:function(){var e=this;return{login_username:"",login_password:"",loginForm:{username:"",password:""},loginipData:{ip:"",city:"",device:"",os:""},registerForm:{user:"",username:"",password:"",repassword:""},loginRules:{username:[{required:!0,message:"请填写账号！",trigger:"blur"}],password:[{required:!0,message:"请填写密码！",trigger:"blur"}]},registerRules:{user:[{required:!0,validator:function(e,t,a){t?/[\u4e00-\u9fa5]/.test(t)?a():a(new Error("姓名必须为纯中文！")):a(new Error("请输入用户的真实姓名！"))},trigger:"blur"}],username:[{required:!0,validator:function(e,t,a){t?/^(?![^A-Za-z]+$)(?![^0-9]+$)[0-9A-Za-z_]{4,15}$/.test(t)?a():a(new Error("账号要求数字、字母、下划线的组合 数字和字母必须存在 长度为4-15个字符")):a(new Error("请输入账号！"))},trigger:"blur"}],password:[{required:!0,validator:function(t,a,i){a?h(a)?(""!==e.registerForm.repassword&&e.$refs.registerFormRef.validateField("repassword"),i()):i(new Error("密码以字母开头 长度在8~18之间 只能包含字母、数字和下划线")):i(new Error("请输入密码！"))},trigger:"blur"}],repassword:[{required:!0,validator:function(t,a,i){a?a!==e.registerForm.password?i(new Error("两次输入密码不一致！")):i():i(new Error("请输入确认密码！"))},trigger:"blur"}]},dialogFormVisible:!1,responseResult:[],loading:!0,changValue:null,appVerData:[]}},mounted:function(){this.getAppVerData(),this.getLoginipData()},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(t){if(!t)return!1;e.$axios.post("/login",{login_username:e.loginForm.username,login_password:e.loginForm.password}).then(function(t){if(200===t.status&&t.data&&200===t.data.code){sessionStorage.setItem("user_id",t.data.result.user_id),sessionStorage.setItem("user_name",t.data.result.user_name),sessionStorage.setItem("login_username",t.data.result.login_username),sessionStorage.setItem("user_sex",t.data.result.user_sex),sessionStorage.setItem("msg","login success!"),sessionStorage.setItem("user_level",t.data.result.user_level),e.$message({message:"登录成功！",type:"success",center:!0});var a=decodeURIComponent("/indextools");e.$router.push({path:a});var i=d.stringify({ip_city:e.loginipData.city,ip_ip:e.loginipData.ip,ip_device:e.loginipData.device,ip_OS:e.loginipData.os});e.$axios.post("/loginip/insert",i).then(function(t){200===t.status&&t.data&&201===t.data.code&&e.$message({message:"添加登录信息失败！",type:"error",center:!0})})}else 200===t.status&&t.data&&201===t.data.code?e.$message({message:"登录失败！密码错误！",type:"error",center:!0}):200===t.status&&t.data&&202===t.data.code?e.$message({message:"登录失败！账号不存在！",type:"warning",center:!0}):200===t.status&&t.data&&203===t.data.code?e.$message({message:"登录失败！账号为禁止登录状态!",type:"warning",center:!0}):200===t.status&&t.data&&204===t.data.code?e.$message({message:"登录失败！账号未通过验证！请联系管理员通过！",type:"warning",center:!0}):200===t.status&&t.data&&205===t.data.code?e.$message({message:"登录失败！账号已经被删除！",type:"warning",center:!0}):200===t.status&&t.data&&206===t.data.code&&e.$message({message:"登录失败！账号已经注销！",type:"warning",center:!0})}).catch(function(e){})})},register:function(){var e=this;this.$refs.registerFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post("/register",{user_name:e.registerForm.user,login_username:e.registerForm.username,login_password:e.registerForm.password}).then(function(t){200===t.status&&t.data&&200===t.data.code?(e.$message({message:"注册成功！请登录!",type:"success",center:!0}),e.$router.go(0)):200===t.status&&t.data&&201===t.data.code?e.$message({message:"注册失败！请重试！",type:"error",center:!0}):200===t.status&&t.data&&202===t.data.code&&e.$message({message:"账号已存在！请更换账号！",type:"warning",center:!0})}).catch(function(e){console.log(e)})})},resetForm:function(){this.$refs.registerFormRef.resetFields()},getLoginipData:function(){var e=this;this.$axios({url:"http://ip-api.com/json/?lang=zh-CN",method:"post",withCredentials:!1}).then(function(t){e.loginipData.ip=t.data.query,e.loginipData.city=t.data.country+" "+t.data.regionName+t.data.city,e.loginipData.device=e.$IpUtils.GetCurrentBrowser(),e.loginipData.os=e.$IpUtils.GetOs()})},getAppVerData:function(){var e=this;this.$axios.get("/getAppVar").then(function(t){200===t.status&&t.data&&200===t.data.code?e.appVerData=JSON.parse(t.data.result):200===t.status&&t.data&&201===t.data.code&&alert("获取AppVerData失败！")}).catch(function(e){console.log(e)})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form",{ref:"loginFormRef",staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px",rules:e.loginRules,model:e.loginForm}},[a("h1",{staticClass:"login_title"},[e._v("TAT考务管理系统")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{clearable:!0,"validate-event":!0,type:"text","auto-complete":"off",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("br"),a("br"),a("br"),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%",border:"none"},attrs:{round:"",type:"primary"},on:{click:e.login}},[e._v("登录")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{round:""},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("注册")])],1),e._v(" "),a("el-dialog",{attrs:{title:"注册",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"registerFormRef",attrs:{rules:e.registerRules,model:e.registerForm,"label-position":"left","label-width":"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[e._v("输入纯中文真实姓名")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"user"}},[a("el-input",{attrs:{clearable:!0,"validate-event":!0,type:"text","auto-complete":"off",placeholder:"请输入真实姓名"},model:{value:e.registerForm.user,callback:function(t){e.$set(e.registerForm,"user",t)},expression:"registerForm.user"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[e._v("账号要求数字、字母、下划线的组合，数字和字母必须存在，长度为4-15个字符")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"username"}},[a("el-input",{attrs:{clearable:!0,"validate-event":!0,type:"text","auto-complete":"off",placeholder:"请输入账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[e._v("密码，以字母开头，长度在8~18之间，只能包含字母、数字和下划线")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"password"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[e._v("确认密码一致")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"repassword"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:e.registerForm.repassword,callback:function(t){e.$set(e.registerForm,"repassword",t)},expression:"registerForm.repassword"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("注 册")])],1)],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple",attrs:{id:"appvar"}},[a("el-table",{attrs:{data:e.appVerData,height:"800px",width:"730"}},[a("el-table-column",{attrs:{prop:"程序ID",label:"程序ID",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{prop:"程序名称",label:"程序名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"版本号",label:"版本号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"更新时间",label:"更新时间"}})],1)],1)])],1)},staticRenderFns:[]};var m=a("VU/8")(g,p,!1,function(e){a("zd7n")},null,null).exports,_=a("Dd8w"),f={name:"zgz-admin-index-aside",components:{},data:function(){return{collapseBtnClick:!0,isCollapse:!0,isRouter:!0,isCollapseStatusClose:!1,isCollapseStatusOpen:!0,menuList:[{icont:"el-icon-s-custom",name:"个人中心",menuItem:[{title:"个人信息",routeName:"PersonInfo",name:"个人信息"},{title:"修改密码",routeName:"PersonPassword",name:"修改密码"},{title:"登录记录",routeName:"PersonIP",name:"登录记录"}]},{icont:"el-icon-set-up",name:"管理模块",menuItem:[{title:"科目管理",routeName:"KemuManage",name:"科目管理"},{title:"学校管理",routeName:"XuexiaoManage",name:"学校管理"},{title:"教师管理",routeName:"JiaoshiManage",name:"教师管理"},{title:"学期管理",routeName:"XueqiManage",name:"学期管理"}]},{icont:"el-icon-edit",name:"考务模块",menuItem:[{title:"考试管理",routeName:"KaoshiManage",name:"考试管理"}]},{icont:"el-icon-notebook-1",name:"录题模块",menuItem:[{title:"我的录入任务",routeName:"MyLuruTask",name:"我的录入任务"},{title:"我的审核任务",routeName:"MyShenheTask",name:"我的审核任务"},{title:"已完成录入任务",routeName:"DoneLuruTask",name:"已完成录入任务"},{title:"已完成审核任务",routeName:"DoneShenheTask",name:"已完成审核任务"}]},{icont:"el-icon-folder-opened",name:"网盘模块",menuItem:[{title:"所有文件",routeName:"NetDisk",name:"所有文件"},{title:"我的文件",routeName:"NetDiskOfMine",name:"我的文件"},{title:"上传文件",routeName:"NetDiskUpload",name:"上传文件"},{title:"我的回收站",routeName:"NetDiskRecover",name:"我的回收站"}]},{icont:"el-icon-warning-outline",name:"管理员功能",menuItem:[{title:"创建录题任务",routeName:"CreateTask",name:"创建录题任务"},{title:"管理录题任务",routeName:"AllTaskList",name:"管理录题任务"},{title:"用户管理",routeName:"YonghuManage",name:"用户管理"},{title:"注册审批",routeName:"SignupManage",name:"注册审批"}]}]}},created:function(){},mounted:function(){},methods:a.n(_)()({},Object(r.b)({handleOpen2:"editableTabs"}),{collapseStatusOpen:function(){this.isCollapse=!1,this.isCollapseStatusClose=!0,this.isCollapseStatusOpen=!1},collapseStatusClose:function(){this.isCollapse=!0,this.isCollapseStatusOpen=!0,this.isCollapseStatusClose=!1},indexTools:function(){this.$router.replace({path:"/indextools"})},druidTool:function(){window.location.href="../index.html"},logout:function(){var e=this;this.$axios.get("/logout").then(function(t){200===t.status&&t.data&&200===t.data.code&&(sessionStorage.removeItem("msg"),sessionStorage.clear(),e.$router.replace({path:"/login"}))})}})},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"zgz-admin-index-aside"},[a("el-col",{attrs:{span:24}},[a("div"),e._v(" "),a("el-menu",{attrs:{"default-active":e.$route.name,collapse:e.isCollapse}},[a("el-menu-item",{on:{click:e.indexTools}},[a("i",{staticClass:"el-icon-s-home"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("TAT")])]),e._v(" "),e._l(e.menuList,function(t, i){return a("el-submenu",{key:i,attrs:{index:""+i}},[a("template",{slot:"title"},[a("i",{class:t.icont}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),a("el-menu-item-group",e._l(t.menuItem,function(t){return a("el-menu-item",{key:t.index,attrs:{index:t.routeName},on:{click:function(a){return e.handleOpen2(t)}}},[e._v(e._s(t.name))])}),1)],2)}),e._v(" "),a("el-menu-item",{on:{click:e.druidTool}},[a("i",{staticClass:"el-icon-odometer"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("Druid监控管理")])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.isCollapseStatusClose,expression:"isCollapseStatusClose"}],on:{click:e.collapseStatusClose}},[a("i",{staticClass:"el-icon-arrow-left"})]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.isCollapseStatusOpen,expression:"isCollapseStatusOpen"}],on:{click:e.collapseStatusOpen}},[a("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),a("el-menu-item",{staticStyle:{"padding-bottom":"10px"}},[a("i",{staticClass:"el-icon-switch-button",on:{click:e.logout}})])],2)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(f,v,!1,function(e){a("f7sz")},"data-v-06f4ad4f",null).exports,k={name:"",components:{},data:function(){return{}},computed:{editableTabs:{get:function(){return this.$store.state.tabsPage},set:function(e){this.$store.state.tabsPage=e}},editableTabsValue:{get:function(){return this.$store.state.TabsValue},set:function(e){this.$store.state.TabsValue=e}}},methods:{removeTab:function(e){var t=this.editableTabs,a=this.editableTabsValue;a===e&&t.forEach(function(i, n){if(i.name===e){var s=t[n+1]||t[n-1];console.log(s),s&&(a=s.name)}}),this.editableTabsValue=a,this.editableTabs=t.filter(function(t){return t.name!==e}),this.$router.push({name:a})},tabClick:function(e){this.$router.push({name:e.name})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab,"tab-click":function(t){return e.tabClick(t)}},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}})}),1),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var w=a("VU/8")(k,x,!1,function(e){a("mcDQ")},"data-v-6233483e",null).exports,y={name:"AppIndex",components:{"zgz-aside":b,"zgz-tabs":w},data:function(){return{value:new Date}},methods:{}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"admin"},[t("el-container",[t("el-aside",{attrs:{width:"auto"}},[t("zgz-aside",{staticStyle:{width:"auto"}})],1),this._v(" "),t("el-container",[t("el-main",{staticStyle:{padding:"0"}},[t("zgz-tabs",{staticStyle:{"margin-bottom":"0"}})],1)],1)],1)],1)])},staticRenderFns:[]},$=a("VU/8")(y,S,!1,null,null,null).exports,z={name:"IndexTools",created:function(){window.WIDGET={ID:"npWAhIzJqg"},function(e){var t=e.createElement("link");t.rel="stylesheet",t.href="https://apip.weatherdt.com/view/static/js/r.js?v=1111";var a=e.createElement("script");a.src="https://apip.weatherdt.com/view/static/js/r.js?v=1111";var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),i.parentNode.insertBefore(a,i)}(document)}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"weather-view-he"}}),e._v(" "),a("el-calendar",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]};var C=a("VU/8")(z,F,!1,function(e){a("NOPL")},"data-v-f3637636",null).exports,I=a("atmG"),L={name:"KemuManage",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,insertKemuForm:{kemu_mingcheng:""},insertRules:{kemu_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入科目名称！"))},trigger:"blur"}]},dialogInsertFormVisible:!1,dialogUpdateFormVisible:!1,kemuData:[],showEdit:[],showBtn:[],showBtnOrdinary:!0}},mounted:function(){this.getAllKemu()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.kemuData=this.kemuData.filter(function(t){return-1!==t.kemu_mingcheng.indexOf(e.searchTableInfo)}):this.getAllKemu()}},methods:{insertKemu:function(){var e=this;this.$refs.insertKemuFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=I.stringify({kemu_mingcheng:e.insertKemuForm.kemu_mingcheng});e.$axios.post("/manage/kemu/insertKemu",a).then(function(t){200===t.status&&t.data&&200===t.data.code?e.$router.go(0):200===t.status&&t.data&&201===t.data.code&&e.$notify({title:"添加失败！",type:"error"})})})},resetForm:function(){this.$refs.insertKemuFormRef.resetFields()},cancelSelection:function(){this.$refs.kemuTable.clearSelection()},getAllKemu:function(){var e=this;this.$axios.get("manage/kemu/getAll").then(function(t){e.kemuData=t.data.result}).catch(function(e){console.log(e),alert("获取科目信息失败！")})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=I.stringify({kemu_id:e.kemu_id,kemu_mingcheng:e.kemu_mingcheng});this.$axios.post("/manage/kemu/updateSingleKemu",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this,a=I.stringify({kemu_id:e.kemu_id});this.$axios.post("/manage/kemu/deleteSingleKemu",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!0}}},[e._v("新增科目信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.cancelSelection()}}},[e._v("取消全选")]),e._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入搜索内容"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"kemuTable",staticStyle:{width:"auto"},attrs:{"default-sort":{prop:"kemu_mingcheng",order:"descending"},height:e.tableHeight,border:"",data:e.kemuData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kemu_mingcheng,expression:"row.kemu_mingcheng"}],staticClass:"edit-cell",domProps:{value:i.kemu_mingcheng},on:{input:function(t){t.target.composing||e.$set(i,"kemu_mingcheng",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kemu_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.kemuData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"新增科目信息",visible:e.dialogInsertFormVisible},on:{"update:visible":function(t){e.dialogInsertFormVisible=t}}},[a("el-form",{ref:"insertKemuFormRef",attrs:{rules:e.insertRules,model:e.insertKemuForm,"label-position":"left","label-width":"0px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kemu_mingcheng"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入科目名称"},model:{value:e.insertKemuForm.kemu_mingcheng,callback:function(t){e.$set(e.insertKemuForm,"kemu_mingcheng",t)},expression:"insertKemuForm.kemu_mingcheng"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.insertKemu(t)}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var D=a("VU/8")(L,j,!1,function(e){a("ag8N")},"data-v-48e1f726",null).exports,T=a("atmG"),E={name:"XuexiaoManage",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,insertXuexiaoForm:{xuexiao_mingcheng:""},insertRules:{xuexiao_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入学校名称！"))},trigger:"blur"}]},dialogInsertFormVisible:!1,dialogUpdateFormVisible:!1,xuexiaoData:[],showEdit:[],showBtn:[],showBtnOrdinary:!0}},mounted:function(){this.getAllXuexiao()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.xuexiaoData=this.xuexiaoData.filter(function(t){return-1!==t.xuexiao_mingcheng.indexOf(e.searchTableInfo)}):this.getAllXuexiao()}},methods:{insertXuexiao:function(){var e=this;this.$refs.insertXuexiaoFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=T.stringify({xuexiao_mingcheng:e.insertXuexiaoForm.xuexiao_mingcheng});e.$axios.post("/manage/xuexiao/insertXuexiao",a).then(function(t){200===t.status&&t.data&&200===t.data.code?e.$router.go(0):200===t.status&&t.data&&201===t.data.code&&e.$notify({title:"添加失败！",type:"error"})})})},resetForm:function(){this.$refs.insertXuexiaoFormRef.resetFields()},cancelSelection:function(){this.$refs.xuexiaoTable.clearSelection()},getAllXuexiao:function(){var e=this;this.$axios.get("manage/xuexiao/getAll").then(function(t){e.xuexiaoData=t.data.result}).catch(function(e){console.log(e),alert("获取学校信息失败！")})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=T.stringify({xuexiao_id:e.xuexiao_id,xuexiao_mingcheng:e.xuexiao_mingcheng});this.$axios.post("/manage/xuexiao/updateSingleXuexiao",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this;console.log(e.xuexiao_id);var a=T.stringify({xuexiao_id:e.xuexiao_id});this.$axios.post("/manage/xuexiao/deleteSingleXuexiao",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,console.log(this.currentPage)}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!0}}},[e._v("新增学校信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.cancelSelection()}}},[e._v("取消全选")]),e._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入搜索内容"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"xuexiaoTable",staticStyle:{width:"auto"},attrs:{"default-sort":{prop:"xuexiao_mingcheng"},height:e.tableHeight,border:"",data:e.xuexiaoData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.xuexiao_mingcheng,expression:"row.xuexiao_mingcheng"}],staticClass:"edit-cell",domProps:{value:i.xuexiao_mingcheng},on:{input:function(t){t.target.composing||e.$set(i,"xuexiao_mingcheng",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.xuexiao_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.xuexiaoData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"新增学校信息",visible:e.dialogInsertFormVisible},on:{"update:visible":function(t){e.dialogInsertFormVisible=t}}},[a("el-form",{ref:"insertXuexiaoFormRef",attrs:{rules:e.insertRules,model:e.insertXuexiaoForm,"label-position":"left","label-width":"0px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"xuexiao_mingcheng"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入学期名称"},model:{value:e.insertXuexiaoForm.xuexiao_mingcheng,callback:function(t){e.$set(e.insertXuexiaoForm,"xuexiao_mingcheng",t)},expression:"insertXuexiaoForm.xuexiao_mingcheng"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.insertXuexiao(t)}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(E,P,!1,function(e){a("Lu+S")},"data-v-e989febc",null).exports,q=a("atmG"),R={name:"JiaoshiManage",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,insertJiaoshiForm:{jiaoshi_xingming:"",jiaoshi_shoujihaoma:"",xuexiao_mingcheng:""},insertRules:{jiaoshi_xingming:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入教师名称！"))},trigger:"blur"}],jiaoshi_shoujihaoma:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入教师手机号！"))},trigger:"blur"}]},dialogInsertFormVisible:!1,dialogUpdateFormVisible:!1,jiaoshiData:[],showEdit:[],showBtn:[],showSelect:[],showBtnOrdinary:!0,loading:!0,xuexiaoOptions:[]}},mounted:function(){this.getAllJiaoshi(),this.getAllXuexiao_mingcheng()},watch:{searchTableInfo:function(){var e,t,a=this,i=this.searchTableInfo,n=[];if(i){e=this.jiaoshiData.filter(function(e){return-1!==e.jiaoshi_xingming.indexOf(a.searchTableInfo)}),t=this.jiaoshiData.filter(function(e){return-1!==e.xuexiao_mingcheng.indexOf(a.searchTableInfo)});for(var s=e.concat(t),o=0; o<s.length; o++){for(var r=!0,l=o+1; l<s.length; l++)s[o].jiaoshi_id==s[l].jiaoshi_id&&(r=!1);r&&n.push(s[o])}this.jiaoshiData=n}else this.getAllJiaoshi()}},methods:{insertJiaoshi:function(){var e=this;this.$refs.insertJiaoshiFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=q.stringify({xuexiao_id:e.insertJiaoshiForm.xuexiao_mingcheng,jiaoshi_xingming:e.insertJiaoshiForm.jiaoshi_xingming,jiaoshi_shoujihaoma:e.insertJiaoshiForm.jiaoshi_shoujihaoma});e.$axios.post("/manage/jiaoshi/insertJiaoshi",a).then(function(t){200===t.status&&t.data&&200===t.data.code?e.$router.go(0):200===t.status&&t.data&&201===t.data.code&&e.$notify({title:"添加失败！",type:"error"})})})},getAllXuexiao_mingcheng:function(){var e=this;this.$axios.get("manage/xuexiao/getAll").then(function(t){e.xuexiaoOptions=t.data.result}).catch(function(e){console.log(e),alert("获取学校选项失败！")})},resetForm:function(){this.$refs.insertJiaoshiFormRef.resetFields()},cancelSelection:function(){this.$refs.jiaoshiTable.clearSelection()},getAllJiaoshi:function(){var e=this;this.$axios.get("manage/jiaoshi/getAll").then(function(t){e.jiaoshiData=t.data.result}).catch(function(e){console.log(e),alert("获取教师信息失败！")})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showSelect,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showSelect,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=q.stringify({xuexiao_id:e.xuexiao_id,jiaoshi_id:e.jiaoshi_id,jiaoshi_xingming:e.jiaoshi_xingming,jiaoshi_shoujihaoma:e.jiaoshi_shoujihaoma});this.$axios.post("/manage/jiaoshi/updateSingleJiaoshi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"更改成功！",type:"success",center:!0}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$message({message:"更改失败！",type:"error",center:!0})})},deleteRow:function(e){var t=this,a=q.stringify({jiaoshi_id:e.jiaoshi_id});this.$axios.post("/manage/jiaoshi/deleteSingleJiaoshi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"删除失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!0}}},[e._v("新增教师信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.cancelSelection()}}},[e._v("取消全选")]),e._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输入搜索内容"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"jiaoshiTable",staticStyle:{width:"auto"},attrs:{"default-sort":{prop:"xuexiao_mingcheng"},height:e.tableHeight,border:"",data:e.jiaoshiData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.xuexiao_id,callback:function(t){e.$set(i,"xuexiao_id",t)},expression:"row.xuexiao_id"}},e._l(e.xuexiaoOptions,function(e){return a("el-option",{key:e.xuexiao_id,attrs:{label:e.xuexiao_mingcheng,value:e.xuexiao_id}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[e._v(e._s(i.xuexiao_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"jiaoshi_xingming",label:"教师姓名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.jiaoshi_xingming,expression:"row.jiaoshi_xingming"}],staticClass:"edit-cell",domProps:{value:i.jiaoshi_xingming},on:{input:function(t){t.target.composing||e.$set(i,"jiaoshi_xingming",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.jiaoshi_xingming))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"jiaoshi_shoujihaoma",label:"教师手机号码"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.jiaoshi_shoujihaoma,expression:"row.jiaoshi_shoujihaoma"}],staticClass:"edit-cell",domProps:{value:i.jiaoshi_shoujihaoma},on:{input:function(t){t.target.composing||e.$set(i,"jiaoshi_shoujihaoma",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.jiaoshi_shoujihaoma))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.jiaoshiData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"新增教师信息",visible:e.dialogInsertFormVisible},on:{"update:visible":function(t){e.dialogInsertFormVisible=t}}},[a("el-form",{ref:"insertJiaoshiFormRef",attrs:{rules:e.insertRules,model:e.insertJiaoshiForm,"label-position":"left","label-width":"0px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"xuexiao_mingcheng"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择教师所属学校(可以搜索)"},model:{value:e.insertJiaoshiForm.xuexiao_mingcheng,callback:function(t){e.$set(e.insertJiaoshiForm,"xuexiao_mingcheng",t)},expression:"insertJiaoshiForm.xuexiao_mingcheng"}},e._l(e.xuexiaoOptions,function(e){return a("el-option",{key:e.xuexiao_id,attrs:{label:e.xuexiao_mingcheng,value:e.xuexiao_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"jiaoshi_xingming"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入教师姓名"},model:{value:e.insertJiaoshiForm.jiaoshi_xingming,callback:function(t){e.$set(e.insertJiaoshiForm,"jiaoshi_xingming",t)},expression:"insertJiaoshiForm.jiaoshi_xingming"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"jiaoshi_shoujihaoma"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入教师手机号码"},model:{value:e.insertJiaoshiForm.jiaoshi_shoujihaoma,callback:function(t){e.$set(e.insertJiaoshiForm,"jiaoshi_shoujihaoma",t)},expression:"insertJiaoshiForm.jiaoshi_shoujihaoma"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.insertJiaoshi(t)}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var N=a("VU/8")(R,K,!1,function(e){a("qECz")},"data-v-1fc07ea5",null).exports,B=a("atmG"),A={name:"XueqiManage",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,insertXueqiForm:{xueqi_mingcheng:""},insertRules:{xueqi_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入学期名称！"))},trigger:"blur"}]},dialogInsertFormVisible:!1,dialogUpdateFormVisible:!1,xueqiData:[],showEdit:[],showBtn:[],showBtnOrdinary:!0}},mounted:function(){this.getAllXueqi()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.xueqiData=this.xueqiData.filter(function(t){return-1!==t.xueqi_mingcheng.indexOf(e.searchTableInfo)}):this.getAllXueqi()}},methods:{insertXueqi:function(){var e=this;this.$refs.insertXueqiFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=B.stringify({xueqi_mingcheng:e.insertXueqiForm.xueqi_mingcheng});e.$axios.post("/manage/xueqi/insertXueqi",a).then(function(t){200===t.status&&t.data&&200===t.data.code?e.$router.go(0):200===t.status&&t.data&&201===t.data.code&&e.$notify({title:"添加失败！",type:"error"})})})},resetForm:function(){this.$refs.insertXueqiFormRef.resetFields()},cancelSelection:function(){this.$refs.xueqiTable.clearSelection()},getAllXueqi:function(){var e=this;this.$axios.get("manage/xueqi/getAll").then(function(t){e.xueqiData=t.data.result}).catch(function(e){console.log(e),alert("获取学期信息失败！")})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=B.stringify({xueqi_id:e.xueqi_id,xueqi_mingcheng:e.xueqi_mingcheng});this.$axios.post("/manage/xueqi/updateSingleXueqi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this,a=B.stringify({xueqi_id:e.xueqi_id});this.$axios.post("/manage/xueqi/deleteSingleXueqi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,console.log(this.currentPage)}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!0}}},[e._v("新增学期信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.cancelSelection()}}},[e._v("取消全选")]),e._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入搜索内容"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"xueqiTable",staticStyle:{width:"auto"},attrs:{"default-sort":{prop:"xueqi_mingcheng"},height:e.tableHeight,border:"",data:e.xueqiData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"xueqi_mingcheng",label:"学期名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.xueqi_mingcheng,expression:"row.xueqi_mingcheng"}],staticClass:"edit-cell",domProps:{value:i.xueqi_mingcheng},on:{input:function(t){t.target.composing||e.$set(i,"xueqi_mingcheng",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.xueqi_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.xueqiData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"新增学期信息",visible:e.dialogInsertFormVisible},on:{"update:visible":function(t){e.dialogInsertFormVisible=t}}},[a("el-form",{ref:"insertXueqiFormRef",attrs:{rules:e.insertRules,model:e.insertXueqiForm,"label-position":"left","label-width":"0px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"xueqi_mingcheng"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入学期名称"},model:{value:e.insertXueqiForm.xueqi_mingcheng,callback:function(t){e.$set(e.insertXueqiForm,"xueqi_mingcheng",t)},expression:"insertXueqiForm.xueqi_mingcheng"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.insertXueqi(t)}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(A,U,!1,function(e){a("+FF2")},"data-v-484bec0f",null).exports,X=a("PlJU"),H=a.n(X),J=a("atmG"),M={data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,yonghuData:[],showEdit:[],showBtn:[],showSelect:[],allLoginipData:[],dialogVisible:!1,user_stateOptions:[{value:"0",label:"正常"},{value:"1",label:"禁止登录"}]}},mounted:function(){this.getAllYonghu()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.yonghuData=this.yonghuData.filter(function(t){return-1!==t.user_name.indexOf(e.searchTableInfo)}):this.getAllYonghu()}},methods:{cancelSelection:function(){this.$refs.yonghuTable.clearSelection()},getAllYonghu:function(){var e=this;this.$axios.get("users/getYonghu").then(function(t){e.yonghuData=t.data.result}).catch(function(e){console.log(e),alert("获取信息失败！")})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showSelect,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showSelect,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=J.stringify({user_id:e.user_id,user_state:e.user_state});this.$axios.post("/users/updateUserState",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"修改成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"修改失败！",type:"error"})})},deleteRow:function(e){var t=this,a=J.stringify({user_id:e.user_id});this.$axios.post("/users/deleteUser",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"删除成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"删除失败！",type:"error"})})},replaceRow:function(e){var t=this,a=J.stringify({user_id:e.user_id});this.$axios.post("/passReplace",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"重置成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"重置失败！",type:"error"})})},getAllLoginip:function(e){this.dialogVisible=!0;var t=this;this.$axios.get("/loginip/getAllByUserId",{params:{user_id:e.user_id}}).then(function(e){t.allLoginipData=e.data.result}).catch(function(e){console.log(e),alert("获取登录信息失败！")})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入用户姓名关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"yonghuTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.yonghuData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"user_name",label:"姓名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.user_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"user_level",label:"用户等级",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.user_level?a("el-tag",{attrs:{type:"info"}},[e._v("未验证用户")]):1===i.user_level?a("el-tag",[e._v("用户")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"login_username",label:"用户名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.login_username))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"user_state",label:"用户状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.user_state,callback:function(t){e.$set(i,"user_state",t)},expression:"row.user_state"}},e._l(e.user_stateOptions,function(e){return a("el-option",{key:e.value,attrs:{id:"user_stateSelect",label:e.label,value:e.value}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[0===i.user_state?a("el-tag",[e._v("正常")]):1===i.user_state?a("el-tag",{attrs:{type:"info"}},[e._v("禁止登录")]):2===i.user_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"400px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n          更新\n        ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n          取消\n        ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.getAllLoginip(i)}}},[e._v("\n          登录信息\n        ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定重置密码为jidegaimima1234？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.replaceRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("重置密码")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"登录信息",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{ref:"loginipTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.allLoginipData,"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{align:"center",prop:"ip_date",label:"登录时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_city",label:"登录地点",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_ip",label:"登录IP",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_device",label:"登录设备",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_OS",label:"操作系统",width:"auto"}})],1)],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.yonghuData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Y=a("VU/8")(M,G,!1,function(e){a("cvHw")},"data-v-ff771800",null).exports,W=a("atmG"),Q={data:function(){return{tableHeight:.85*window.innerHeight,dialogInsertFormVisible:!1,XueqiDataList:[],KaoshiDataList:[],xuexiaoOptions:[],kemuOptions:[],insertJiaoshiOptions:[],updateJiaoshiOptions:[],showEdit:[],showBtn:[],showSelect:[],colData:[{title:"名称",istrue:!0},{title:"性别",istrue:!0},{title:"年龄",istrue:!0},{title:"时间",istrue:!0},{title:"事件",istrue:!0},{title:"地点",istrue:!0}],colOptions:[],colSelect:[],checkboxGroup1:[],checked1:!0,checked2:!0,checked3:!0,checked4:!0,checked5:!0,checked6:!0,checked7:!0,checked8:!0,checked9:!0,checked10:!0,checked11:!0,checked12:!0,checked13:!0,checked14:!0,checked15:!0,checked16:!0,checked17:!0,checked18:!0,checked19:!0,checked20:!0,checked21:!0,checked22:!0,checked23:!0,kaoshi_zhuangtaiOptions:[{value:"0",label:"未开始"},{value:"-10",label:"已取消"},{value:"-20",label:"已终止"},{value:"10",label:"筹备中"},{value:"20",label:"正在报名"},{value:"30",label:"已发布"},{value:"100",label:"正在考试"},{value:"110",label:"阅卷中"},{value:"120",label:"成绩发布"},{value:"200",label:"已完成"}],insertKaoshiForm:{kaoshi_shijian:"",kaoshi_code:"",xuexiao_mingcheng:"",kaoshi_mingcheng:"",kemu_mingcheng:"",jiaoshi_xingming:"",kaoshi_canyujiaoshi:"",kaoshi_renshu:"",kaoshi_xueshengmingdan:"",kaoshi_baoming:"",kaoshi_timu:"",kaoshi_tixing:"",kaoshi_shijuan:"",kaoshi_dianzhenbi:"",kaoshi_dianzhenzhi:"",kaoshi_kaochangzhunbei:"",kaoshi_zhuangtai:"",kaoshi_beizhu:""},insertRules:{kaoshi_shijian:[{required:!1,trigger:"blur"}],kaoshi_code:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入考试编号！"))},trigger:"blur"}],xuexiao_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择学校名称！"))},trigger:"blur"}],kaoshi_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择考试名称！"))},trigger:"blur"}],kemu_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择科目名称！"))},trigger:"blur"}],jiaoshi_xingming:[{required:!1,trigger:"blur"}],kaoshi_canyujiaoshi:[{required:!1,trigger:"blur"}],kaoshi_renshu:[{required:!1,trigger:"blur"}],kaoshi_xueshengmingdan:[{required:!1,trigger:"blur"}],kaoshi_baoming:[{required:!1,trigger:"blur"}],kaoshi_timu:[{required:!1,trigger:"blur"}],kaoshi_tixing:[{required:!1,trigger:"blur"}],kaoshi_shijuan:[{required:!1,trigger:"blur"}],kaoshi_dianzhenbi:[{required:!1,trigger:"blur"}],kaoshi_dianzhenzhi:[{required:!1,trigger:"blur"}],kaoshi_kaochangzhunbei:[{required:!1,trigger:"blur"}],kaoshi_zhuangtai:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择考试状态！"))},trigger:"blur"}],kaoshi_beizhu:[{required:!1,trigger:"blur"}]}}},created:function(){for(var e=0; e<this.colData.length; e++)this.colSelect.push(this.colData[e].title),"名称"!=this.colData[e].title&&this.colOptions.push(this.colData[e].title)},watch:{colOptions:function(e){var t=this,a=this.colSelect.filter(function(t){return e.indexOf(t)<0});this.colData.filter(function(e){-1!=a.indexOf(e.title)?(e.istrue=!1,t.$nextTick(function(){t.$refs.tableDataRef.doLayout()})):(e.istrue=!0,t.$nextTick(function(){t.$refs.tableDataRef.doLayout()}))})}},mounted:function(){this.getAllXueqi(),this.getAllKemu_mingcheng(),this.getAllXuexiao_mingcheng()},methods:{handleTabsChangeGetKaoshi:function(e){var t=this,a=e.name;window.getXueqi_id=a,this.$axios.get("/kaowu/kaoshi/getAllByXueqiId",{params:{xueqi_id:a}}).then(function(e){t.KaoshiDataList=e.data.result}).catch(function(e){console.log(e),alert("获取考试信息失败！")})},getAllXueqi:function(){var e=this;this.$axios.get("manage/xueqi/getAll").then(function(t){e.XueqiDataList=t.data.result}).catch(function(e){console.log(e),alert("获取学期信息失败！")})},insertKaoshi:function(){var e=this;this.$refs.insertKaoshiFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=W.stringify({kaoshi_shijian:e.insertKaoshiForm.kaoshi_shijian,kaoshi_code:e.insertKaoshiForm.kaoshi_code,xuexiao_id:e.insertKaoshiForm.xuexiao_mingcheng,kaoshi_mingcheng:e.insertKaoshiForm.kaoshi_mingcheng,kemu_id:e.insertKaoshiForm.kemu_mingcheng,jiaoshi_id:e.insertKaoshiForm.jiaoshi_xingming,kaoshi_canyujiaoshi:e.insertKaoshiForm.kaoshi_canyujiaoshi,kaoshi_renshu:e.insertKaoshiForm.kaoshi_renshu,kaoshi_xueshengmingdan:e.insertKaoshiForm.kaoshi_xueshengmingdan,kaoshi_baoming:e.insertKaoshiForm.kaoshi_baoming,kaoshi_timu:e.insertKaoshiForm.kaoshi_timu,kaoshi_tixing:e.insertKaoshiForm.kaoshi_tixing,kaoshi_shijuan:e.insertKaoshiForm.kaoshi_shijuan,kaoshi_dianzhenbi:e.insertKaoshiForm.kaoshi_dianzhenbi,kaoshi_dianzhenzhi:e.insertKaoshiForm.kaoshi_dianzhenzhi,kaoshi_kaochangzhunbei:e.insertKaoshiForm.kaoshi_kaochangzhunbei,kaoshi_zhuangtai:e.insertKaoshiForm.kaoshi_zhuangtai,kaoshi_chuangjianren:sessionStorage.getItem("user_name"),kaoshi_beizhu:e.insertKaoshiForm.kaoshi_beizhu,xueqi_id:window.getXueqi_id});e.$axios.post("/kaowu/kaoshi/insertKaoshi",a).then(function(t){200===t.status&&t.data&&200===t.data.code?e.$router.go(0):200===t.status&&t.data&&201===t.data.code&&e.$notify({title:"添加失败！",type:"error"})})})},getAllXuexiao_mingcheng:function(){var e=this;this.$axios.get("manage/xuexiao/getAll").then(function(t){e.xuexiaoOptions=t.data.result}).catch(function(e){console.log(e),alert("获取学校选项失败！")})},getJiaoshixingmingByXuexiaoId:function(){var e=this,t=this.insertKaoshiForm.xuexiao_mingcheng;this.$axios.get("manage/jiaoshi/getJiaoshiXingmingByXuexiaoId",{params:{xuexiao_id:t}}).then(function(t){e.insertJiaoshiOptions=t.data.result}).catch(function(e){console.log(e),alert("获取主管教师教师选项失败！")})},getJiaoshixingmingByXuexiaoIdUpdate:function(e){var t=this,a=e.xuexiao_id;console.log(a),this.$axios.get("manage/jiaoshi/getJiaoshiXingmingByXuexiaoId",{params:{xuexiao_id:a}}).then(function(e){t.updateJiaoshiOptions=e.data.result}).catch(function(e){console.log(e),alert("获取主管教师教师选项失败！")})},getAllKemu_mingcheng:function(){var e=this;this.$axios.get("manage/kemu/getAll").then(function(t){e.kemuOptions=t.data.result}).catch(function(e){console.log(e),alert("获取科目选项失败！")})},resetForm:function(){this.$refs.insertKaoshiFormRef.resetFields()},cancelSelection:function(){this.$refs.kaoshiTable.clearSelection()},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showSelect,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showSelect,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=W.stringify({kaoshi_id:e.kaoshi_id,kaoshi_shijian:e.kaoshi_shijian,kaoshi_code:e.kaoshi_code,xuexiao_id:e.xuexiao_id,kaoshi_mingcheng:e.kaoshi_mingcheng,kemu_id:e.kemu_id,jiaoshi_id:e.jiaoshi_id,kaoshi_canyujiaoshi:e.kaoshi_canyujiaoshi,kaoshi_renshu:e.kaoshi_renshu,kaoshi_xueshengmingdan:e.kaoshi_xueshengmingdan,kaoshi_baoming:e.kaoshi_baoming,kaoshi_timu:e.kaoshi_timu,kaoshi_tixing:e.kaoshi_tixing,kaoshi_shijuan:e.kaoshi_shijuan,kaoshi_dianzhenbi:e.kaoshi_dianzhenbi,kaoshi_dianzhenzhi:e.kaoshi_dianzhenzhi,kaoshi_kaochangzhunbei:e.kaoshi_kaochangzhunbei,kaoshi_zhuangtai:e.value,kaoshi_beizhu:e.kaoshi_beizhu,kaoshi_xiugairen:sessionStorage.getItem("user_name"),xueqi_id:window.getXueqi_id});this.$axios.post("kaowu/kaoshi/updateSingleKaoshi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this,a=W.stringify({kaoshi_id:e.kaoshi_id});this.$axios.post("kaowu/kaoshi/deleteSingleKaoshi",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"删除失败！",type:"error"})})}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-tabs",staticStyle:{"margin-left":"10px"}},[a("el-tabs",{on:{"tab-click":e.handleTabsChangeGetKaoshi}},[e._l(e.XueqiDataList,function(e){return a("el-tab-pane",{key:e.xueqi_id,attrs:{prop:e.xueqi_id,label:e.xueqi_mingcheng,name:e.xueqi_id.toString()}})}),e._v(" "),a("div",{staticClass:"letf-items",staticStyle:{float:"left"}},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!0}}},[e._v("新增考试信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.cancelSelection()}}},[e._v("取消全选")])],1),e._v(" "),a("div",{staticClass:"right-items",staticStyle:{float:"right"}},[a("el-popover",{attrs:{placement:"bottom",title:"列字段筛选",width:"400",trigger:"click"}},[a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("div",{staticStyle:{float:"top"}},[a("el-checkbox-group",{attrs:{size:"small",min:1,max:23},model:{value:e.checkboxGroup1,callback:function(t){e.checkboxGroup1=t},expression:"checkboxGroup1"}},[a("div",{staticStyle:{width:"200px",float:"left"}},[a("el-checkbox",{attrs:{checked:"",label:"考试时间",border:""},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试编号",border:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"学校名称",border:""},model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试名称",border:""},model:{value:e.checked4,callback:function(t){e.checked4=t},expression:"checked4"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"科目名称",border:""},model:{value:e.checked5,callback:function(t){e.checked5=t},expression:"checked5"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试场次",border:""},model:{value:e.checked6,callback:function(t){e.checked6=t},expression:"checked6"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"主管教师",border:""},model:{value:e.checked7,callback:function(t){e.checked7=t},expression:"checked7"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"参与教师",border:""},model:{value:e.checked8,callback:function(t){e.checked8=t},expression:"checked8"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试人数",border:""},model:{value:e.checked9,callback:function(t){e.checked9=t},expression:"checked9"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"学生名单",border:""},model:{value:e.checked10,callback:function(t){e.checked10=t},expression:"checked10"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试报名",border:""},model:{value:e.checked11,callback:function(t){e.checked11=t},expression:"checked11"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试题目",border:""},model:{value:e.checked12,callback:function(t){e.checked12=t},expression:"checked12"}})],1),e._v(" "),a("div",{staticStyle:{width:"200px",float:"right"}},[a("el-checkbox",{attrs:{checked:"",label:"考试题型",border:""},model:{value:e.checked13,callback:function(t){e.checked13=t},expression:"checked13"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试试卷",border:""},model:{value:e.checked14,callback:function(t){e.checked14=t},expression:"checked14"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"点阵笔",border:""},model:{value:e.checked15,callback:function(t){e.checked15=t},expression:"checked15"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"点阵纸",border:""},model:{value:e.checked16,callback:function(t){e.checked16=t},expression:"checked16"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考场准备",border:""},model:{value:e.checked17,callback:function(t){e.checked17=t},expression:"checked17"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"考试状态",border:""},model:{value:e.checked18,callback:function(t){e.checked18=t},expression:"checked18"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"备注",border:""},model:{value:e.checked19,callback:function(t){e.checked19=t},expression:"checked19"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"创建人",border:""},model:{value:e.checked20,callback:function(t){e.checked20=t},expression:"checked20"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"创建时间",border:""},model:{value:e.checked21,callback:function(t){e.checked21=t},expression:"checked21"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"修改人",border:""},model:{value:e.checked22,callback:function(t){e.checked22=t},expression:"checked22"}}),e._v(" "),a("el-checkbox",{attrs:{checked:"",label:"修改时间",border:""},model:{value:e.checked23,callback:function(t){e.checked23=t},expression:"checked23"}})],1)])],1),e._v(" "),a("div",{staticStyle:{float:"bottom"}},[a("el-button",{on:{click:function(e){}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{slot:"reference",icon:"el-icon-s-tools"},slot:"reference"},[e._v("表格列筛选")])],1)],1)],2),e._v(" "),a("el-table",{ref:"kaoshiTable",staticClass:"kaoshiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.KaoshiDataList,"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),e.colData[0].istrue?a("el-table-column",{attrs:{align:"center",prop:"kaoshi_shijian",label:"考试时间",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_shijian,expression:"row.kaoshi_shijian"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_shijian},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_shijian",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_shijian))])]}}],null,!1,2762836870)}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_code",label:"考试编号",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_code,expression:"row.kaoshi_code"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_code},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_code",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},on:{change:function(t){return e.getJiaoshixingmingByXuexiaoIdUpdate(i)}},model:{value:i.xuexiao_id,callback:function(t){e.$set(i,"xuexiao_id",t)},expression:"row.xuexiao_id"}},e._l(e.xuexiaoOptions,function(e){return a("el-option",{key:e.xuexiao_id,attrs:{label:e.xuexiao_mingcheng,value:e.xuexiao_id}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[e._v(e._s(i.xuexiao_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_mingcheng",label:"考试名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_mingcheng,expression:"row.kaoshi_mingcheng"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_mingcheng},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_mingcheng",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.kemu_id,callback:function(t){e.$set(i,"kemu_id",t)},expression:"row.kemu_id"}},e._l(e.kemuOptions,function(e){return a("el-option",{key:e.kemu_id,attrs:{label:e.kemu_mingcheng,value:e.kemu_id}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[e._v(e._s(i.kemu_mingcheng))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_changci",label:"考试场次",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_changci,expression:"row.kaoshi_changci"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_changci},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_changci",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_changci))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"jiaoshi_xingming",label:"主管教师",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.jiaoshi_id,callback:function(t){e.$set(i,"jiaoshi_id",t)},expression:"row.jiaoshi_id"}},e._l(e.updateJiaoshiOptions,function(e){return a("el-option",{key:e.jiaoshi_id,attrs:{label:e.jiaoshi_xingming,value:e.jiaoshi_id}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[e._v(e._s(i.jiaoshi_xingming))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_canyujiaoshi",label:"参与教师",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_canyujiaoshi,expression:"row.kaoshi_canyujiaoshi"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_canyujiaoshi},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_canyujiaoshi",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_canyujiaoshi))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_renshu",label:"考试人数",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_renshu,expression:"row.kaoshi_renshu"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_renshu},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_renshu",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_renshu))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_xueshengmingdan",label:"学生名单",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_xueshengmingdan,expression:"row.kaoshi_xueshengmingdan"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_xueshengmingdan},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_xueshengmingdan",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_xueshengmingdan))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_baoming",label:"考试报名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_baoming,expression:"row.kaoshi_baoming"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_baoming},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_baoming",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_baoming))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_timu",label:"考试题目",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_timu,expression:"row.kaoshi_timu"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_timu},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_timu",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_timu))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_tixing",label:"考试题型",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_tixing,expression:"row.kaoshi_tixing"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_tixing},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_tixing",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_tixing))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_shijuan",label:"考试试卷",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_shijuan,expression:"row.kaoshi_shijuan"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_shijuan},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_shijuan",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_shijuan))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_dianzhenbi",label:"点阵笔",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_dianzhenbi,expression:"row.kaoshi_dianzhenbi"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_dianzhenbi},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_dianzhenbi",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_dianzhenbi))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_dianzhenzhi",label:"点阵纸",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_dianzhenzhi,expression:"row.kaoshi_dianzhenzhi"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_dianzhenzhi},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_dianzhenzhi",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_dianzhenzhi))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_kaochangzhunbei",label:"考场准备",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_kaochangzhunbei,expression:"row.kaoshi_kaochangzhunbei"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_kaochangzhunbei},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_kaochangzhunbei",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_kaochangzhunbei))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_zhuangtai",label:"考试状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"row.value"}},e._l(e.kaoshi_zhuangtaiOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[0===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"info"}},[e._v("未开始")]):-10===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"info"}},[e._v("已取消")]):-20===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"info"}},[e._v("已终止")]):10===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"success"}},[e._v("筹备中")]):20===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"success"}},[e._v("正在报名")]):30===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"success"}},[e._v("已发布")]):100===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"danger"}},[e._v("正在考试")]):110===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"danger"}},[e._v("阅卷中")]):120===i.kaoshi_zhuangtai?a("el-tag",{attrs:{type:"danger"}},[e._v("成绩发布")]):e._e(),e._v(" "),200===i.kaoshi_zhuangtai?a("el-tag",[e._v("已完成")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_beizhu",label:"备注",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.kaoshi_beizhu,expression:"row.kaoshi_beizhu"}],staticClass:"edit-cell",domProps:{value:i.kaoshi_beizhu},on:{input:function(t){t.target.composing||e.$set(i,"kaoshi_beizhu",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.kaoshi_beizhu))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_chuangjianren",label:"创建人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_chuangjianshijian",label:"创建时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_xiugairen",label:"修改人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kaoshi_xiugaishijian",label:"修改时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增考试信息",visible:e.dialogInsertFormVisible},on:{"update:visible":function(t){e.dialogInsertFormVisible=t}}},[a("el-form",{ref:"insertKaoshiFormRef",attrs:{rules:e.insertRules,model:e.insertKaoshiForm,"label-position":"left","label-width":"0px"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_shijian"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试时间"},model:{value:e.insertKaoshiForm.kaoshi_shijian,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_shijian",t)},expression:"insertKaoshiForm.kaoshi_shijian"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"xuexiao_mingcheng"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择学校(可以搜索)"},on:{change:e.getJiaoshixingmingByXuexiaoId},model:{value:e.insertKaoshiForm.xuexiao_mingcheng,callback:function(t){e.$set(e.insertKaoshiForm,"xuexiao_mingcheng",t)},expression:"insertKaoshiForm.xuexiao_mingcheng"}},e._l(e.xuexiaoOptions,function(e){return a("el-option",{key:e.xuexiao_id,attrs:{label:e.xuexiao_mingcheng,value:e.xuexiao_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kemu_mingcheng"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择科目(可以搜索)"},model:{value:e.insertKaoshiForm.kemu_mingcheng,callback:function(t){e.$set(e.insertKaoshiForm,"kemu_mingcheng",t)},expression:"insertKaoshiForm.kemu_mingcheng"}},e._l(e.kemuOptions,function(e){return a("el-option",{key:e.kemu_id,attrs:{label:e.kemu_mingcheng,value:e.kemu_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"jiaoshi_xingming"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择主管教师(可以搜索)"},model:{value:e.insertKaoshiForm.jiaoshi_xingming,callback:function(t){e.$set(e.insertKaoshiForm,"jiaoshi_xingming",t)},expression:"insertKaoshiForm.jiaoshi_xingming"}},e._l(e.insertJiaoshiOptions,function(e){return a("el-option",{key:e.jiaoshi_id,attrs:{label:e.jiaoshi_xingming,value:e.jiaoshi_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_renshu"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试人数"},model:{value:e.insertKaoshiForm.kaoshi_renshu,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_renshu",t)},expression:"insertKaoshiForm.kaoshi_renshu"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_baoming"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试报名情况"},model:{value:e.insertKaoshiForm.kaoshi_baoming,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_baoming",t)},expression:"insertKaoshiForm.kaoshi_baoming"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_tixing"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试题型"},model:{value:e.insertKaoshiForm.kaoshi_tixing,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_tixing",t)},expression:"insertKaoshiForm.kaoshi_tixing"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_dianzhenbi"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入点阵笔准备情况"},model:{value:e.insertKaoshiForm.kaoshi_dianzhenbi,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_dianzhenbi",t)},expression:"insertKaoshiForm.kaoshi_dianzhenbi"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_kaochangzhunbei"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考场准备情况"},model:{value:e.insertKaoshiForm.kaoshi_kaochangzhunbei,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_kaochangzhunbei",t)},expression:"insertKaoshiForm.kaoshi_kaochangzhunbei"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_beizhu"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入备注"},model:{value:e.insertKaoshiForm.kaoshi_beizhu,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_beizhu",t)},expression:"insertKaoshiForm.kaoshi_beizhu"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_code"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试编号"},model:{value:e.insertKaoshiForm.kaoshi_code,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_code",t)},expression:"insertKaoshiForm.kaoshi_code"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_mingcheng"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试名称"},model:{value:e.insertKaoshiForm.kaoshi_mingcheng,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_mingcheng",t)},expression:"insertKaoshiForm.kaoshi_mingcheng"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_changci"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试场次"},model:{value:e.insertKaoshiForm.kaoshi_changci,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_changci",t)},expression:"insertKaoshiForm.kaoshi_changci"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_canyujiaoshi"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入参与教师"},model:{value:e.insertKaoshiForm.kaoshi_canyujiaoshi,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_canyujiaoshi",t)},expression:"insertKaoshiForm.kaoshi_canyujiaoshi"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_xueshengmingdan"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试学生名单信息"},model:{value:e.insertKaoshiForm.kaoshi_xueshengmingdan,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_xueshengmingdan",t)},expression:"insertKaoshiForm.kaoshi_xueshengmingdan"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_timu"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试题目"},model:{value:e.insertKaoshiForm.kaoshi_timu,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_timu",t)},expression:"insertKaoshiForm.kaoshi_timu"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_shijuan"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入考试试卷情况"},model:{value:e.insertKaoshiForm.kaoshi_shijuan,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_shijuan",t)},expression:"insertKaoshiForm.kaoshi_shijuan"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_dianzhenzhi"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入点阵纸准备情况"},model:{value:e.insertKaoshiForm.kaoshi_dianzhenzhi,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_dianzhenzhi",t)},expression:"insertKaoshiForm.kaoshi_dianzhenzhi"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"kaoshi_zhuangtai"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择考试状态(可以搜索)"},model:{value:e.insertKaoshiForm.kaoshi_zhuangtai,callback:function(t){e.$set(e.insertKaoshiForm,"kaoshi_zhuangtai",t)},expression:"insertKaoshiForm.kaoshi_zhuangtai"}},e._l(e.kaoshi_zhuangtaiOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInsertFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.insertKaoshi(t)}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(Q,Z,!1,function(e){a("4csR")},"data-v-152c55a7",null).exports,te=a("atmG"),ae={name:"SignupManage",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight,signupData:[],showBtnOrdinary:!0}},mounted:function(){this.getAllSignupUser()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.signupData=this.signupData.filter(function(t){return-1!==t.user_name.indexOf(e.searchTableInfo)}):this.getAllSignupUser()}},methods:{cancelSelection:function(){this.$refs.signupTable.clearSelection()},getAllSignupUser:function(){var e=this;this.$axios.get("users/getSignupUser").then(function(t){e.signupData=t.data.result}).catch(function(e){console.log(e),alert("获取信息失败！")})},successRow:function(e){var t=this,a=te.stringify({user_id:e.user_id});this.$axios.post("users/updateSignupUser",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"通过成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"通过失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入姓名关键字"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"signupTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.signupData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"user_name",label:"姓名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.user_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",prop:"login_username",label:"用户名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.login_username))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定通过？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.successRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("通过注册")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.signupData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var ne=a("VU/8")(ae,ie,!1,function(e){a("7m1f")},"data-v-10f6e652",null).exports,se=a("atmG"),oe={name:"PersonInfo",data:function(){return{personInfoTable:{user:"",username:""},personInfoData:[],showEdit:!1,showBtn:!1,showSelect:!1,user_sexOptions:[{value:"0",label:"保密"},{value:"1",label:"男"},{value:"2",label:"女"}]}},mounted:function(){this.getInfoByUserId()},methods:{getInfoByUserId:function(){var e=this,t=se.stringify({user_id:sessionStorage.getItem("user_id")});this.$axios.post("person/getInfo",t).then(function(t){e.personInfoData=t.data.result}).catch(function(e){console.log(e),alert("获取个人信息失败！")})},handleEdit:function(){this.showEdit=!0,this.showSelect=!0,this.showBtn=!0},handleCancle:function(){this.showEdit=!1,this.showSelect=!1,this.showBtn=!1},handleUpdate:function(){var e=this,t=se.stringify({user_id:sessionStorage.getItem("user_id"),user_name:document.getElementById("user_nameEdit").value,user_sex:this.personInfoData.user_sex,user_level:this.personInfoData.user_level});this.$axios.post("person/updateInfo",t).then(function(t){200===t.status&&t.data&&200===t.data.code?(e.$message({message:"修改成功！",type:"success"}),e.$router.go(0)):200===t.status&&t.data&&201===t.data.code?e.$message({message:"修改失败！",type:"error"}):200===t.status&&t.data&&202===t.data.code&&e.$message({message:"用户名重复！",type:"error"})})}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-aside",{attrs:{width:"50px"}}),e._v(" "),a("el-main",[a("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[a("p",{staticStyle:{"font-size":"25px"}},[e._v("个人信息")])]),e._v(" "),a("div",{attrs:{id:"all"}},[a("div",{staticClass:"info"},[a("div",{staticClass:"info-box"},[a("div",{staticClass:"left-div"},[e._v("用户名")]),e._v(" "),a("div",{staticClass:"right-div"},[a("span",[e._v(e._s(e.personInfoData.login_username))])])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"info-box"},[a("div",{staticClass:"left-div"},[e._v("姓名")]),e._v(" "),a("div",{staticClass:"right-div"},[e.showEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.personInfoData.user_name,expression:"personInfoData.user_name"}],staticStyle:{width:"100%"},attrs:{id:"user_nameEdit"},domProps:{value:e.personInfoData.user_name},on:{input:function(t){t.target.composing||e.$set(e.personInfoData,"user_name",t.target.value)}}}):e._e(),e._v(" "),e.showEdit?e._e():a("span",[e._v(e._s(e.personInfoData.user_name))])])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"info-box"},[a("div",{staticClass:"left-div"},[e._v("性别")]),e._v(" "),a("div",{staticClass:"right-div"},[e.showSelect?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:e.personInfoData.user_sex,callback:function(t){e.$set(e.personInfoData,"user_sex",t)},expression:"personInfoData.user_sex"}},e._l(e.user_sexOptions,function(e){return a("el-option",{key:e.value,attrs:{id:"user_sexSelect",label:e.label,value:e.value}})}),1):e._e(),e._v(" "),e.showSelect?e._e():a("span",[0===e.personInfoData.user_sex?a("span",{attrs:{type:"info"}},[e._v("保密")]):e._e(),e._v(" "),1===e.personInfoData.user_sex?a("span",{attrs:{type:""}},[e._v("男")]):e._e(),e._v(" "),2===e.personInfoData.user_sex?a("span",{attrs:{type:"danger"}},[e._v("女")]):e._e()])],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"info-box"},[a("div",{staticClass:"left-div"},[e._v("账号级别")]),e._v(" "),a("div",{staticClass:"right-div"},[1===e.personInfoData.user_level?a("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v("用户")]):2===e.personInfoData.user_level?a("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v("管理员")]):e._e()],1)])]),e._v(" "),a("br"),e._v(" "),a("div",[e.showBtn?a("el-button",{attrs:{size:"large"},nativeOn:{click:function(t){return e.handleUpdate()}}},[e._v("\n            更新\n          ")]):e._e(),e._v(" "),e.showBtn?a("el-button",{attrs:{size:"large"},nativeOn:{click:function(t){return e.handleCancle()}}},[e._v("\n            取消\n          ")]):e._e(),e._v(" "),e.showBtn?e._e():a("el-button",{attrs:{size:"large"},nativeOn:{click:function(t){return e.handleEdit()}}},[e._v("\n            编辑\n          ")])],1)])])],1)],1)},staticRenderFns:[]};var le=a("VU/8")(oe,re,!1,function(e){a("Y6ad")},"data-v-34a2f6b6",null).exports,ue=(a("atmG"),{name:"PersonIP",data:function(){return{tableHeight:.85*window.innerHeight,loginipData:[]}},mounted:function(){this.getLoginip()},methods:{getLoginip:function(){var e=this;this.$axios.get("/loginip/getAllByUserId",{params:{user_id:sessionStorage.getItem("user_id")}}).then(function(t){e.loginipData=t.data.result}).catch(function(e){console.log(e),alert("获取登录信息失败！")})},copy:function(e){var t=this;console.log(e.ip_date);var a="登录时间:"+e.ip_date.toString()+" 登录地点:"+e.ip_city.toString()+" 登录IP:"+e.ip_ip.toString()+" 登录设备:"+e.ip_device.toString()+" 操作系统:"+e.ip_OS.toString(),i=new H.a(".copy-btn",{text:function(){return a}});i.on("success",function(e){t.$message({message:"复制成功!",type:"success"}),i.destroy()}),i.on("error",function(e){t.$message({message:"复制失败!",type:"error"}),i.destroy()})}}}),ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("el-table",{ref:"loginipTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.loginipData,"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{align:"center",prop:"ip_date",label:"登录时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_city",label:"登录地点",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_ip",label:"登录IP",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_device",label:"登录设备",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip_OS",label:"操作系统",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"copy-btn",on:{click:function(a){return e.copy(t.row)}}},[e._v("\n          复制\n        ")])]}}])})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[t("p",{staticStyle:{"font-size":"25px"}},[this._v("登录记录")]),this._v("    \n    "),t("p",{staticStyle:{color:"#C0C4CC","font-size":"10px"}},[this._v("通过查看登录时间，登录地点和登录设备判断账号是否正常")]),this._v("  \n    "),t("p",{staticStyle:{color:"red","font-size":"10px"}},[this._v("注 (只展示最近十条记录)")])])}]};var he=a("VU/8")(ue,ce,!1,function(e){a("fHUl")},"data-v-71ec4780",null).exports,de={name:"PersonPassword",data:function(){var e=this;return{passForm:{oldpassword:"",newpassword:"",repassword:""},passRules:{oldpassword:[{required:!0,validator:function(e, t, a){t?h(t)||a(new Error("密码以字母开头 长度在8~18之间 只能包含字母、数字和下划线")):a(new Error("请输入密码！")),a()},trigger:"blur"}],newpassword:[{required:!0,validator:function(t, a, i){a?h(a)?(""!==e.passForm.repassword&&e.$refs.passFormRef.validateField("repassword"),i()):i(new Error("密码以字母开头 长度在8~18之间 只能包含字母、数字和下划线")):i(new Error("请输入密码！"))},trigger:"blur"}],repassword:[{required:!0,validator:function(t, a, i){a?a!==e.passForm.newpassword?i(new Error("两次输入密码不一致！")):i():i(new Error("请输入确认密码！"))},trigger:"blur"}]}}},methods:{onsubmit:function(){var e=this;this.$refs.passFormRef.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post("/passChange",{user_id:sessionStorage.getItem("user_id"),oldpassword:e.passForm.oldpassword,newpassword:e.passForm.newpassword}).then(function(t){200===t.status&&t.data&&200===t.data.code?(e.$message({message:"修改成功！请重新登录!",type:"success",center:!0}),e.$router.replace({path:"/login"})):200===t.status&&t.data&&201===t.data.code?e.$message({message:"旧密码错误！",type:"error",center:!0}):200===t.status&&t.data&&202===t.data.code&&e.$message({message:"错误！",type:"error",center:!0})}).catch(function(e){console.log(e)})})}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"passFormRef",attrs:{rules:e.passRules,model:e.passForm,"label-position":"left","label-width":"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[e._v("填写旧密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"oldpassword"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请输入旧密码"},model:{value:e.passForm.oldpassword,callback:function(t){e.$set(e.passForm,"oldpassword",t)},expression:"passForm.oldpassword"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[e._v("密码，以字母开头，长度在8~18之间，只能包含字母、数字和下划线")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"newpassword"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请输入新密码"},model:{value:e.passForm.newpassword,callback:function(t){e.$set(e.passForm,"newpassword",t)},expression:"passForm.newpassword"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[e._v("确认密码一致")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"repassword"}},[a("el-input",{attrs:{clearable:!0,"show-password":!0,"validate-event":!0,type:"password","auto-complete":"off",placeholder:"请确认新密码"},model:{value:e.passForm.repassword,callback:function(t){e.$set(e.passForm,"repassword",t)},expression:"passForm.repassword"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.onsubmit(t)}}},[e._v("提交修改")])],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,ge,!1,function(e){a("wv/J")},"data-v-6205e2f6",null).exports,me=a("atmG");var _e={name:"AllTaskList",data:function(){return{tableHeight:.85*window.innerHeight,lutiDataList:[],searchTableInfo:"",currentPage:1,pageSize:15}},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.lutiDataList=this.lutiDataList.filter(function(t){return-1!==t.luti_code.indexOf(e.searchTableInfo)}):this.getAllXueqi()}},mounted:function(){var e,t;this.lutiDataList=(e=this.lutiDataList,(t=["luti_code","xuexiao_mingcheng","kemu_mingcheng"])&&0!==t.length?(t.forEach(function(t){var a={};e=e.map(function(i, n){var s=i[t];return a[s]&&a[s].newIndex===n?(a[s].num++,a[s].newIndex++,e[a[s].index][t+"-span"].rowspan++,i[t+"-span"]={rowspan:0,colspan:0}):(a[s]={num:1,index:n,newIndex:n+1},i[t+"-span"]={rowspan:1,colspan:1}),i})}),console.log(e),e):(console.log(666),e)),this.getAllLuti()},methods:{getAllLuti:function(){var e=this;this.$axios.get("luti/getAllLuti").then(function(t){e.lutiDataList=t.data.result}).catch(function(e){console.log(e),alert("获取录题信息失败！")})},deleteRow:function(e){var t=this,a=me.stringify({luti_id:e.luti_id});this.$axios.post("luti/deleteLuti",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"删除失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输录题编号入关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"lutiTable",staticClass:"lutiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.lutiDataList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_code",label:"录题编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_shuoming",label:"录题说明",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_jiezhishijian",label:"截止时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lururenname",label:"录入人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"shenherenname",label:"审核人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurubeizhu",label:"录入备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_shenhebeizhu",label:"审核备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurustate",label:"录入状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_lurustate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):1===i.lutistate_lurustate?a("el-tag",[e._v("已完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_shenhestate",label:"审核状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[0===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"info"}},[e._v("未开始")]):1===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):2===i.lutistate_shenhestate?a("el-tag",[e._v("已完成")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_state",label:"总状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("录入中")]):1===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):2===i.lutistate_state?a("el-tag",[e._v("已完成")]):3===i.lutistate_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("将会删除同一录题ID的记录，并非删除单人记录，确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.lutiDataList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var ve=a("VU/8")(_e,fe,!1,function(e){a("kdSd")},"data-v-6dd3ce4c",null).exports,be=a("mvHQ"),ke=a.n(be),xe=a("atmG"),we={name:"CreateTask",data:function(){return{type:1,active:0,xuexiaoOptions:[],kemuOptions:[],lururenList:[],lururen:[],shenherenList:[],shenheren:[],insertLutiForm:{luti_code:"",xuexiao_mingcheng:"",kemu_mingcheng:"",luti_shuoming:"题库：\n知识大纲：\n知识点：\n出题人：\n难度：",luti_jiezhishijian:"",luti_lurubeizhu:"",luti_shenhebeizhu:""},insertRules:{luti_code:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请输入录题编号！"))},trigger:"blur"}],xuexiao_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择学校名称！"))},trigger:"blur"}],kemu_mingcheng:[{required:!0,validator:function(e, t, a){t?a():a(new Error("请选择科目名称！"))},trigger:"blur"}],luti_shuoming:[{required:!1,trigger:"blur"}],luti_jiezhishijian:[{required:!1,trigger:"blur"}],luti_lurubeizhu:[{required:!1,trigger:"blur"}],luti_shenhebeizhu:[{required:!1,trigger:"blur"}]}}},mounted:function(){this.getAllKemu_mingcheng(),this.getAllXuexiao_mingcheng(),this.getLururen(),this.getShenheren()},methods:{prev:function(){--this.type,--this.active,this.active<0&&(this.active=0)},next:function(){var e=this;1===this.type?this.$refs.insertLutiFormRef.validate(function(t){t&&(e.type++,e.active++>2&&(e.active=0))}):(this.type++,this.active++>2&&(this.active=0),console.log(this.lururen))},getAllXuexiao_mingcheng:function(){var e=this;this.$axios.get("manage/xuexiao/getAll").then(function(t){e.xuexiaoOptions=t.data.result}).catch(function(e){console.log(e),alert("获取学校选项失败！")})},getAllKemu_mingcheng:function(){var e=this;this.$axios.get("manage/kemu/getAll").then(function(t){e.kemuOptions=t.data.result}).catch(function(e){console.log(e),alert("获取科目选项失败！")})},getLururen:function(){var e=this;this.$axios.get("luti/getIdAndName").then(function(t){e.lururenList=t.data.result}).catch(function(e){console.log(e),alert("获取录题人失败！")})},getShenheren:function(){var e=this;this.$axios.get("luti/getIdAndName").then(function(t){e.shenherenList=t.data.result}).catch(function(e){console.log(e),alert("获取录题人失败！")})},handleChange:function(e, t, a){},addLuti:function(){var e=this;console.log(this.shenheren);var t=xe.stringify({luti_code:this.insertLutiForm.luti_code,xuexiao_id:this.insertLutiForm.xuexiao_mingcheng,kemu_id:this.insertLutiForm.kemu_mingcheng,luti_shuoming:this.insertLutiForm.luti_shuoming,luti_jiezhishijian:this.insertLutiForm.luti_jiezhishijian,luti_lurubeizhu:this.insertLutiForm.luti_lurubeizhu,luti_shenhebeizhu:this.insertLutiForm.luti_shenhebeizhu,lururens:ke()(this.lururen),shenherens:ke()(this.shenheren)});this.$axios.post("/luti/addluti",t).then(function(t){200===t.status&&t.data&&2001===t.data.code?(e.$router.go(0),e.$message({title:"录题添加成功！",type:"success"})):200===t.status&&t.data&&201===t.data.code&&e.$message({title:"添加失败！",type:"error"})})}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-steps",{attrs:{active:e.active,simple:"","finish-status":"success"}},[a("el-step",{attrs:{title:"基本信息",icon:"el-icon-s-flag"}}),e._v(" "),a("el-step",{attrs:{title:"选择录入人",icon:"el-icon-s-order"}}),e._v(" "),a("el-step",{attrs:{title:"选择审核人",icon:"el-icon-s-claim"}})],1),e._v(" "),0===e.active?a("div",{staticClass:"basicInfo"},[a("el-form",{ref:"insertLutiFormRef",attrs:{rules:e.insertRules,model:e.insertLutiForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"录题编号",prop:"luti_code"}},[a("el-input",{attrs:{clearable:!0,type:"text","auto-complete":"off",placeholder:"请输入录题编号"},model:{value:e.insertLutiForm.luti_code,callback:function(t){e.$set(e.insertLutiForm,"luti_code",t)},expression:"insertLutiForm.luti_code"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"学校",prop:"xuexiao_mingcheng"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择学校(可以搜索)"},model:{value:e.insertLutiForm.xuexiao_mingcheng,callback:function(t){e.$set(e.insertLutiForm,"xuexiao_mingcheng",t)},expression:"insertLutiForm.xuexiao_mingcheng"}},e._l(e.xuexiaoOptions,function(e){return a("el-option",{key:e.xuexiao_id,attrs:{label:e.xuexiao_mingcheng,value:e.xuexiao_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"科目",prop:"kemu_mingcheng"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择科目(可以搜索)"},model:{value:e.insertLutiForm.kemu_mingcheng,callback:function(t){e.$set(e.insertLutiForm,"kemu_mingcheng",t)},expression:"insertLutiForm.kemu_mingcheng"}},e._l(e.kemuOptions,function(e){return a("el-option",{key:e.kemu_id,attrs:{label:e.kemu_mingcheng,value:e.kemu_id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"录题说明",prop:"luti_shuoming"}},[a("el-input",{attrs:{rows:7,type:"textarea"},model:{value:e.insertLutiForm.luti_shuoming,callback:function(t){e.$set(e.insertLutiForm,"luti_shuoming",t)},expression:"insertLutiForm.luti_shuoming"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"截止时间",prop:"luti_jiezhishijian"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入截止时间"},model:{value:e.insertLutiForm.luti_jiezhishijian,callback:function(t){e.$set(e.insertLutiForm,"luti_jiezhishijian",t)},expression:"insertLutiForm.luti_jiezhishijian"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"录入备注",prop:"luti_lurubeizhu"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入给录入人备注"},model:{value:e.insertLutiForm.luti_lurubeizhu,callback:function(t){e.$set(e.insertLutiForm,"luti_lurubeizhu",t)},expression:"insertLutiForm.luti_lurubeizhu"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"审核备注",prop:"luti_shenhebeizhu"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入给审核人备注"},model:{value:e.insertLutiForm.luti_shenhebeizhu,callback:function(t){e.$set(e.insertLutiForm,"luti_shenhebeizhu",t)},expression:"insertLutiForm.luti_shenhebeizhu"}})],1)],1)],1):e._e(),e._v(" "),1===e.active?a("div",{staticClass:"lururen"},[e._m(0),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[e._v(" ")])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-transfer",{staticStyle:{"text-align":"left"},attrs:{props:{key:"user_id",label:"user_name"},data:e.lururenList,titles:["待选人员","已选人员"]},on:{change:e.handleChange},model:{value:e.lururen,callback:function(t){e.lururen=t},expression:"lururen"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[e._v(" ")])])],1),e._v(" "),e._m(1)],1):e._e(),e._v(" "),2===e.active?a("div",{staticClass:"shenheren"},[e._m(2),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[e._v(" ")])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-transfer",{staticStyle:{"text-align":"left"},attrs:{props:{key:"user_id",label:"user_name"},data:e.shenherenList,titles:["待选人员","已选人员"]},on:{change:e.handleChange},model:{value:e.shenheren,callback:function(t){e.shenheren=t},expression:"shenheren"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[e._v(" ")])])],1),e._v(" "),e._m(3)],1):e._e(),e._v(" "),a("div",{staticClass:"btn"},[1===e.active||2===e.active?a("el-button",{staticStyle:{"margin-top":"12px"},on:{click:e.prev}},[e._v("上一步")]):e._e(),e._v(" "),0===e.active||1===e.active?a("el-button",{staticStyle:{"margin-top":"12px"},on:{click:e.next}},[e._v("下一步")]):e._e(),e._v(" "),2===e.active?a("el-button",{staticStyle:{"margin-top":"12px"},on:{click:e.addLuti}},[e._v("提交")]):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[t("p",{staticStyle:{"font-size":"25px"}},[this._v(" ")]),this._v("    \n      ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[t("p",{staticStyle:{"font-size":"25px"}},[this._v(" ")]),this._v("    \n      ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[t("p",{staticStyle:{"font-size":"25px"}},[this._v(" ")]),this._v("    \n      ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headtext",staticStyle:{"text-align":"left"}},[t("p",{staticStyle:{"font-size":"25px"}},[this._v(" ")]),this._v("    \n      ")])}]};var Se=a("VU/8")(we,ye,!1,function(e){a("f+ER")},"data-v-48a2e82b",null).exports,$e={name:"DoneLuruTask",data:function(){return{tableHeight:.85*window.innerHeight,DoneLuruDataList:[],searchTableInfo:"",currentPage:1,pageSize:15}},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.DoneLuruDataList=this.DoneLuruDataList.filter(function(t){return-1!==t.luti_code.indexOf(e.searchTableInfo)}):this.getAllLutiByLururenId()}},mounted:function(){this.getDoneLutiByLururenId()},methods:{getDoneLutiByLururenId:function(){var e=this;this.$axios.get("/luti/getDoneLutiByLururenId",{params:{lutistate_lururenid:sessionStorage.getItem("user_id")}}).then(function(t){e.DoneLuruDataList=t.data.result}).catch(function(e){console.log(e),alert("获取信息失败！")})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输录题编号入关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"lutiTable",staticClass:"lutiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.DoneLuruDataList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_code",label:"录题编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_shuoming",label:"录题说明",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_jiezhishijian",label:"截止时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurubeizhu",label:"录入备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurustate",label:"录入状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_lurustate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):1===i.lutistate_lurustate?a("el-tag",[e._v("已完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_state",label:"总状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("录入中")]):1===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):2===i.lutistate_state?a("el-tag",[e._v("已完成")]):3===i.lutistate_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.DoneLuruDataList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Fe=a("VU/8")($e,ze,!1,function(e){a("M3Uy")},"data-v-e584a85e",null).exports,Ce={name:"DoneShenheTask",data:function(){return{tableHeight:.85*window.innerHeight,DoneShenheDataList:[],searchTableInfo:"",currentPage:1,pageSize:15}},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.DoneShenheDataList=this.DoneShenheDataList.filter(function(t){return-1!==t.luti_code.indexOf(e.searchTableInfo)}):this.getAllLutiByLururenId()}},mounted:function(){this.getDoneShenheByShenherenId()},methods:{getDoneShenheByShenherenId:function(){var e=this;this.$axios.get("/luti/getDoneShenheByShenherenId",{params:{lutistate_shenherenid:sessionStorage.getItem("user_id")}}).then(function(t){e.DoneShenheDataList=t.data.result}).catch(function(e){console.log(e),alert("获取信息失败！")})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输录题编号入关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"lutiTable",staticClass:"lutiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.DoneShenheDataList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_code",label:"录题编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_shuoming",label:"录题说明",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_jiezhishijian",label:"截止时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurubeizhu",label:"录入备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_shenhestate",label:"审核状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[0===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"info"}},[e._v("未开始")]):1===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):2===i.lutistate_shenhestate?a("el-tag",[e._v("已完成")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_state",label:"总状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("录入中")]):1===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):2===i.lutistate_state?a("el-tag",[e._v("已完成")]):3===i.lutistate_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.DoneShenheDataList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Le=a("VU/8")(Ce,Ie,!1,function(e){a("e950")},"data-v-545f2e49",null).exports,je=a("atmG"),De={name:"MyLuruTask",data:function(){return{tableHeight:.85*window.innerHeight,MyLuruDataList:[],searchTableInfo:"",currentPage:1,pageSize:15}},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.MyLuruDataList=this.MyLuruDataList.filter(function(t){return-1!==t.luti_code.indexOf(e.searchTableInfo)}):this.getAllLutiByLururenId()}},mounted:function(){this.getAllLutiByLururenId()},methods:{getAllLutiByLururenId:function(){var e=this;this.$axios.get("/luti/getAllLutiByLururenId",{params:{lutistate_lururenid:sessionStorage.getItem("user_id")}}).then(function(t){e.MyLuruDataList=t.data.result}).catch(function(e){console.log(e),alert("获取考试信息失败！")})},successRow:function(e){var t=this,a=je.stringify({luti_id:e.luti_id,lutistate_lururenid:sessionStorage.getItem("user_id")});console.log(e.luti_id),this.$axios.post("luti/accLuruTask",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"操作成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"操作失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输录题编号入关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"lutiTable",staticClass:"lutiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.MyLuruDataList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_code",label:"录题编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_shuoming",label:"录题说明",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_jiezhishijian",label:"截止时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurubeizhu",label:"录入备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_lurustate",label:"录入状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_lurustate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):1===i.lutistate_lurustate?a("el-tag",[e._v("已完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_state",label:"总状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("录入中")]):1===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):2===i.lutistate_state?a("el-tag",[e._v("已完成")]):3===i.lutistate_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定完成？不可逆向操作！")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.successRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("录入完成")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.MyLuruDataList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Ee=a("VU/8")(De,Te,!1,function(e){a("Vccm")},"data-v-240423c7",null).exports,Pe=a("atmG"),Oe={name:"MyShenheTask",data:function(){return{tableHeight:.85*window.innerHeight,MyShenheDataList:[],searchTableInfo:"",currentPage:1,pageSize:15}},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.MyShenheDataList=this.MyShenheDataList.filter(function(t){return-1!==t.luti_code.indexOf(e.searchTableInfo)}):this.getAllLutiByLururenId()}},mounted:function(){this.getAllShenheByShenherenId()},methods:{getAllShenheByShenherenId:function(){var e=this;this.$axios.get("/luti/getAllShenheByShenherenId",{params:{lutistate_shenherenid:sessionStorage.getItem("user_id")}}).then(function(t){e.MyShenheDataList=t.data.result}).catch(function(e){console.log(e),alert("获取信息失败！")})},successRow:function(e){var t=this,a=Pe.stringify({luti_id:e.luti_id,lutistate_shenherenid:sessionStorage.getItem("user_id")});console.log(e.luti_id),this.$axios.post("luti/accShenheTask",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"操作成功！",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"操作失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输录题编号入关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"lutiTable",staticClass:"lutiTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.MyShenheDataList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"}}},[a("el-table-column",{attrs:{type:"selection",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_code",label:"录题编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"xuexiao_mingcheng",label:"学校名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"kemu_mingcheng",label:"科目名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_shuoming",label:"录题说明",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"luti_jiezhishijian",label:"截止时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_shenhebeizhu",label:"审核备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_shenhestate",label:"审核状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[0===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"info"}},[e._v("未开始")]):1===i.lutistate_shenhestate?a("el-tag",{attrs:{type:"warning"}},[e._v("进行中")]):2===i.lutistate_shenhestate?a("el-tag",[e._v("已完成")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lutistate_state",label:"总状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[0===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("录入中")]):1===i.lutistate_state?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):2===i.lutistate_state?a("el-tag",[e._v("已完成")]):3===i.lutistate_state?a("el-tag",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[1===i.lutistate_shenhestate?a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定完成？不可逆向操作！")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.successRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("审核完成")])],1):e._e(),e._v(" "),0===i.lutistate_shenhestate?a("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover",content:"还没有录入完成，不可操作"}},[a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("不可操作")])],1):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.MyShenheDataList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Re=a("VU/8")(Oe,qe,!1,function(e){a("paSo")},"data-v-48927d21",null).exports,Ke=a("atmG"),Ne={name:"NetDisk",data:function(){return{netdiskData:[],searchTableInfo:"",currentPage:1,pageSize:15,tableHeight:.85*window.innerHeight}},mounted:function(){this.getAllNetdisk()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.netdiskData=this.netdiskData.filter(function(t){return-1!==t.netdisk_name.indexOf(e.searchTableInfo)}):this.getAllNetdisk()}},methods:{getAllNetdisk:function(){var e=this;this.$axios.get("netdisk/getAll").then(function(t){e.netdiskData=t.data.result}).catch(function(e){console.log(e),alert("获取文件失败！")})},filedownload:function(e){var t=this,a=Ke.stringify({netdisk_name:e.netdisk_name,netdisk_url:e.netdisk_url});this.$axios.post("netdisk/filedownload",a).then(function(e){200===e.status&&e.data&&200===e.data.code?t.$message({message:"恭喜你，这是一条成功消息",type:"success"}):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},imagedownload:function(e){var t=this,a=Ke.stringify({netdisk_url:e.netdisk_url,netdisk_name:e.netdisk_name});this.$axios.post("netdisk/imagedownload",a).then(function(e){200===e.status&&e.data&&200===e.data.code?t.$message({message:"恭喜你，这是一条成功消息",type:"success"}):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输入文件名称关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"netdiskTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.netdiskData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"},"default-sort":{prop:"netdisk_time",order:"descending"}}},[a("el-table-column",{attrs:{align:"center",prop:"netdisk_time",label:"上传时间",width:"auto",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_name",label:"文件名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_size",label:"文件大小",width:"auto",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_icon",label:"文件类型",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_uploaduser",label:"上传人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("a",{attrs:{href:i.netdisk_url}},["png"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"jpg"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"jpeg"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"gif"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"pdf"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"txt"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"png"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"jpg"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"jpeg"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"gif"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"pdf"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"txt"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):e._e()],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.netdiskData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Ae=a("VU/8")(Ne,Be,!1,function(e){a("3OJH")},"data-v-896f95a2",null).exports,Ue=a("atmG"),Ve={name:"NetDiskOfMine",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,showEdit:[],showBtn:[],showSelect:[],myNetdiskData:[],tableHeight:.85*window.innerHeight,netdisk_stateOptions:[{value:"0",label:"公共"},{value:"2",label:"个人"}]}},mounted:function(){this.getAllNetdiskByUserId()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.myNetdiskData=this.myNetdiskData.filter(function(t){return-1!==t.netdisk_name.indexOf(e.searchTableInfo)}):this.getAllNetdiskByUserId()}},methods:{getAllNetdiskByUserId:function(){var e=this;this.$axios.get("netdisk/getAllByUserId",{params:{user_id:sessionStorage.getItem("user_id")}}).then(function(t){e.myNetdiskData=t.data.result}).catch(function(e){console.log(e),alert("获取文件失败！")})},filedownload:function(e){var t=this,a=Ue.stringify({netdisk_url:e.netdisk_url,netdisk_name:e.netdisk_name});this.$axios.post("netdisk/filedownload",a).then(function(e){200===e.status&&e.data&&200===e.data.code?t.$message({message:"恭喜你，这是一条成功消息",type:"success"}):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this,a=Ue.stringify({netdisk_id:e.netdisk_id});this.$axios.post("/netdisk/deleteByNetdiskId",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleEdit:function(e){this.$set(this.showEdit,e,!0),this.$set(this.showSelect,e,!0),this.$set(this.showBtn,e,!0)},handleCancle:function(e){this.$set(this.showEdit,e,!1),this.$set(this.showSelect,e,!1),this.$set(this.showBtn,e,!1)},handleUpdate:function(e){var t=this,a=Ue.stringify({netdisk_id:e.netdisk_id,netdisk_name:e.netdisk_name,netdisk_icon:e.netdisk_icon,netdisk_state:e.value});this.$axios.post("/netdisk/updateSingleFile",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},imagedownload:function(e){var t=this,a=Ue.stringify({netdisk_url:e.netdisk_url,netdisk_name:e.netdisk_name});this.$axios.post("netdisk/imagedownload",a).then(function(e){200===e.status&&e.data&&200===e.data.code?t.$message({message:"恭喜你，这是一条成功消息",type:"success"}):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"iconfont icon-sousuo",placeholder:"请输入文件名称关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"netdiskTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.myNetdiskData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"},"default-sort":{prop:"netdisk_time",order:"descending"}}},[a("el-table-column",{attrs:{align:"center",prop:"netdisk_time",label:"上传时间",width:"auto",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_name",label:"文件名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.netdisk_name,expression:"row.netdisk_name"}],staticClass:"edit-cell",domProps:{value:i.netdisk_name},on:{input:function(t){t.target.composing||e.$set(i,"netdisk_name",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.netdisk_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_size",label:"文件大小",width:"auto",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_icon",label:"文件类型",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showEdit[n]?a("input",{directives:[{name:"model",rawName:"v-model",value:i.netdisk_icon,expression:"row.netdisk_icon"}],staticClass:"edit-cell",domProps:{value:i.netdisk_icon},on:{input:function(t){t.target.composing||e.$set(i,"netdisk_icon",t.target.value)}}}):e._e(),e._v(" "),e.showEdit[n]?e._e():a("span",[e._v(e._s(i.netdisk_icon))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_state",label:"文件状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showSelect[n]?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"row.value"}},e._l(e.netdisk_stateOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),e.showSelect[n]?e._e():a("span",[0===i.netdisk_state?a("el-tag",{attrs:{type:"success"}},[e._v("公共")]):2===i.netdisk_state?a("el-tag",{attrs:{type:"danger"}},[e._v("个人")]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return[e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n          更新\n        ")]):e._e(),e._v(" "),e.showBtn[n]?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleCancle(n)}}},[e._v("\n          取消\n        ")]):e._e(),e._v(" "),e.showBtn[n]?e._e():a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.handleEdit(n)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("a",{attrs:{href:i.netdisk_url}},["png"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"jpg"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"jpeg"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"gif"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"pdf"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"txt"==i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"}},[e._v("预览")]):"png"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"jpg"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"jpeg"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"gif"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"pdf"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):"txt"!=i.netdisk_icon.toLowerCase()?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.filedownload(i)}}},[e._v("下载")]):e._e()],1),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("删 除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.myNetdiskData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var He=a("VU/8")(Ve,Xe,!1,function(e){a("JMwj")},"data-v-160122c1",null).exports,Je=(a("atmG"),{name:"NetDiskUpload",data:function(){return{fileList:[],uploadData:null}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e, t){console.log(e,t)},handlePreview:function(e){console.log(e)},beforeUpload:function(e){var t=this;return this.uploadData={user_id:sessionStorage.getItem("user_id"),netdisk_uploaduser:sessionStorage.getItem("login_username")},new s.a(function(e){t.$nextTick(function(){e(!0)})})},successResave:function(e, t, a){200===e.status&&e.data&&201===e.data.code&&(alert("保存成功"),this.proType="",this.mobanname="",this.value5="")},error:function(e, t, a){console.log(e)}}}),Me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:8888/api/netdisk/upload","on-preview":e.handlePreview,"before-upload":e.beforeUpload,data:e.uploadData,"on-error":e.error,"on-success":e.successResave,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("单个文件上传大小不能超过1GB，单次文件上传大小不能超过2GB")])],1)},staticRenderFns:[]};var Ge=a("VU/8")(Je,Me,!1,function(e){a("Pj5D")},"data-v-6e366a5c",null).exports,Ye=a("atmG"),We={name:"NetDiskRecover",data:function(){return{searchTableInfo:"",currentPage:1,pageSize:15,showEdit:[],showBtn:[],showSelect:[],recoverNetdiskData:[],tableHeight:.85*window.innerHeight,netdisk_stateOptions:[{value:"0",label:"公共"},{value:"2",label:"个人"}]}},mounted:function(){this.getRecoverFileByUserId()},watch:{searchTableInfo:function(){var e=this,t=this.searchTableInfo;t?this.recoverNetdiskData=this.recoverNetdiskData.filter(function(t){return-1!==t.netdisk_name.indexOf(e.searchTableInfo)}):this.getRecoverFileByUserId()}},methods:{getRecoverFileByUserId:function(){var e=this;this.$axios.get("netdisk/getRecoverFileByUserId",{params:{user_id:sessionStorage.getItem("user_id")}}).then(function(t){e.recoverNetdiskData=t.data.result}).catch(function(e){console.log(e),alert("获取文件失败！")})},recoverFile:function(e){var t=this,a=Ye.stringify({netdisk_id:e.netdisk_id});this.$axios.post("/netdisk/recoverFile",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},deleteRow:function(e){var t=this,a=Ye.stringify({netdisk_id:e.netdisk_id});this.$axios.post("/netdisk/deleteForeverByNetdiskId",a).then(function(e){200===e.status&&e.data&&200===e.data.code?(t.$message({message:"恭喜你，这是一条成功消息",type:"success"}),t.$router.go(0)):200===e.status&&e.data&&201===e.data.code&&t.$notify({title:"添加失败！",type:"error"})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",margin:"5px"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:"请输入文件名称关键词"},model:{value:e.searchTableInfo,callback:function(t){e.searchTableInfo=t},expression:"searchTableInfo"}})],1),e._v(" "),a("el-table",{ref:"netdiskTable",staticStyle:{width:"auto"},attrs:{height:e.tableHeight,border:"",data:e.recoverNetdiskData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"tooltip-effect":"dark","row-style":{height:"25px",width:"auto"},"default-sort":{prop:"netdisk_time",order:"descending"}}},[a("el-table-column",{attrs:{align:"center",prop:"netdisk_time",label:"上传时间",width:"auto",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.netdisk_time))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_name",label:"文件名称",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.netdisk_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_size",label:"文件大小",width:"auto",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.netdisk_size))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"netdisk_icon",label:"文件类型",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("span",[e._v(e._s(i.netdisk_icon))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return t.$index,[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.recoverFile(i)}}},[e._v("\n          还 原\n        ")]),e._v(" "),a("el-popover",{attrs:{placement:"top"}},[a("h5",{attrs:{align:"center"}},[e._v("确定永久删除？将不可恢复！")]),e._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteRow(i)}}},[e._v("确 定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("永久删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.recoverNetdiskData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var Ze=a("VU/8")(We,Qe,!1,function(e){a("KYu9")},"data-v-72dbd844",null).exports;o.default.use(c.a);var et=new c.a({mode:"hash",routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:m},{path:"/register",name:"Register",component:m},{path:"/tabs/aside",name:"Aside",component:b,meta:{isLogin:!0}},{path:"/tabs/tabs",name:"Tabs",component:w,meta:{isLogin:!0}},{path:"/index",name:"AppIndex",component:$,meta:{isLogin:!0},children:[{path:"/indextools",name:"IndexTools",component:C,meta:{isLogin:!0}},{path:"/person/personinfo",name:"PersonInfo",component:le,meta:{isLogin:!0}},{path:"/person/personip",name:"PersonIP",component:he,meta:{isLogin:!0}},{path:"/person/personpassword",name:"PersonPassword",component:pe,meta:{isLogin:!0}},{path:"/manage/kemumanage",name:"KemuManage",component:D,meta:{isLogin:!0}},{path:"/manage/xuexiaomanage",name:"XuexiaoManage",component:O,meta:{isLogin:!0}},{path:"/manage/jiaoshimanage",name:"JiaoshiManage",component:N,meta:{isLogin:!0}},{path:"/manage/xueqimanage",name:"XueqiManage",component:V,meta:{isLogin:!0}},{path:"/manage/yonghumanage",name:"YonghuManage",component:Y,meta:{isLogin:!0,level:2}},{path:"/manage/signupmanage",name:"SignupManage",component:ne,meta:{isLogin:!0,level:2}},{path:"/kaowu/kaoshimanage",name:"KaoshiManage",component:ee,meta:{isLogin:!0}},{path:"/docheck/createtask",name:"CreateTask",component:Se,meta:{isLogin:!0,level:2}},{path:"/docheck/alltasklist",name:"AllTaskList",component:ve,meta:{isLogin:!0,level:2}},{path:"/docheck/donelurutask",name:"DoneLuruTask",component:Fe,meta:{isLogin:!0}},{path:"/docheck/doneshenhetask",name:"DoneShenheTask",component:Le,meta:{isLogin:!0}},{path:"/docheck/mylurutask",name:"MyLuruTask",component:Ee,meta:{isLogin:!0}},{path:"/docheck/myshenhetask",name:"MyShenheTask",component:Re,meta:{isLogin:!0}},{path:"/share/netdisk",name:"NetDisk",component:Ae,meta:{isLogin:!0}},{path:"/share/netdiskofmine",name:"NetDiskOfMine",component:He,meta:{isLogin:!0}},{path:"/share/netdiskupload",name:"NetDiskUpload",component:Ge,meta:{isLogin:!0}},{path:"/share/netdiskrecover",name:"NetDiskRecover",component:Ze,meta:{isLogin:!0}}]}]}),tt=a("mtWM"),at=a.n(tt),it=a("atmG"),nt=a.n(it),st=a("zL8q"),ot=a.n(st),rt=(a("tvR6"),a("c/Tr")),lt=a.n(rt);o.default.use(r.a),o.default.use(et);var ut=new r.a.Store({state:{tabsPage:[],TabsValue:""},mutations:{editableTabs:function(e, t){var a=lt()(e.tabsPage);if(0!==a.length){!function(e){return a.some(function(t){return t.name===e.routeName})}(t)?(a.push({title:t.name,name:t.routeName}),e.tabsPage=a,e.TabsValue=t.routeName,et.push({name:t.routeName})):(e.TabsValue=t.routeName,et.push({name:t.routeName}))}else a.push({title:t.name,name:t.routeName}),e.tabsPage=a,e.TabsValue=t.routeName,et.push({name:t.routeName})}},actions:{editableTabs:function(e, t){e.commit("editableTabs",t)}}});function ct(){var e=navigator.userAgent.toLocaleLowerCase(),t=null;if(null!=e.match(/msie/)||null!=e.match(/trident/))t="IE";else if(null!=e.match(/firefox/))t="firefox";else if(null!=e.match(/ucbrowser/))t="UC";else if(null!=e.match(/opera/)||null!=e.match(/opr/))t="opera";else if(null!=e.match(/bidubrowser/))t="baidu";else if(null!=e.match(/metasr/))t="sougou";else if(null!=e.match(/tencenttraveler/)||null!=e.match(/qqbrowse/))t="QQ";else if(null!=e.match(/maxthon/))t="maxthon";else if(null!=e.match(/chrome/)){t=function(e, t){var a=navigator.mimeTypes;for(var i in a)if(a[i][e]===t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer")?"360":"chrome"}else t=null!=e.match(/safari/)?"Safari":"others";return t}function ht(){var e=navigator.userAgent.toLocaleLowerCase(),t="win32"===navigator.platform.toLowerCase()||"windows"===navigator.platform.toLowerCase(),a="mac68k"===navigator.platform.toLowerCase()||"macppc"===navigator.platform.toLowerCase()||"macintosh"===navigator.platform.toLowerCase()||"macintel"===navigator.platform.toLowerCase();return a?"Mac":"x11"!==navigator.platform.toLowerCase()||t||a?String(navigator.platform.toLowerCase()).indexOf("linux")>-1?"Linux":t?"Windows":e.indexOf("android")>-1?"Android":e.indexOf("iphone")>-1?"iPhone":e.indexOf("symbianos")>-1?"SymbianOS":e.indexOf("windows phone")>-1?"Windows Phone":e.indexOf("ipad")>-1?"iPad":e.indexOf("ipod")>-1?"iPod":"others":"Unix"}var dt=this;o.default.use(ot.a),o.default.use(r.a),o.default.use(nt.a),o.default.prototype.$IpUtils=i,o.default.prototype.$axios=at.a,at.a.defaults.withCredentials=!0,o.default.config.productionTip=!1,at.a.defaults.baseURL="/api";var gt=void 0,pt=0;function mt(){--pt<=0&&gt.close()}at.a.interceptors.request.use(function(e){return 0==pt&&(gt=st.Loading.service({lock:!0,text:"加载中...",background:"rgba(255,255,255,0.5)",time:1500})),pt++,e},function(e){return s.a.reject(e)}),at.a.interceptors.response.use(function(e){return mt(),e},function(e){if(mt(),e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 401:dt.$router.push("/login");break;case 403:e.message="拒绝访问(403)";break;case 404:e.message="请求出错(404)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器错误(500)";break;case 501:e.message="服务未实现(501)";break;case 502:e.message="网络错误(502)";break;case 503:e.message="服务不可用(503)";break;case 504:e.message="网络超时(504)";break;case 505:e.message="HTTP版本不受支持(505)";break;default:e.message="连接出错("+e.response.status+")!"}else e.message="连接服务器失败!";return message.error(e.message),s.a.reject(e)}),et.beforeEach(function(e, t, a){1==e.meta.isLogin?null!=sessionStorage.getItem("msg")?a():(alert("请登录！"),a({path:"/login",query:{redirect:e.fullPath}})):a(),2==e.meta.level?2==sessionStorage.getItem("user_level")?a():(alert("没有权限！"),a(t)):a()}),new o.default({store:ut,el:"#app",router:et,components:{App:u},template:"<App/>"})},NOPL:function(e, t){},Pj5D:function(e, t){},Vccm:function(e, t){},Y6ad:function(e, t){},ag8N:function(e, t){},cvHw:function(e, t){},e950:function(e, t){},"f+ER":function(e, t){},f7sz:function(e, t){},fHUl:function(e, t){},kdSd:function(e, t){},mcDQ:function(e, t){},paSo:function(e, t){},qECz:function(e, t){},tvR6:function(e, t){},"wv/J":function(e, t){},zd7n:function(e, t){}},["NHnr"]);
//# sourceMappingURL=app.3728d7bb95259470f269.js.map